<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title> 
</head>
<body>
    <label for="">input text</label>
    <input type="text" id="infor">
    <h1 id="text"></h1>
    <button onclick="main()">ok</button>
    
</body>
<script>
    const input  =  document.getElementById("infor")
    const output = document.getElementById("text")
    function main(){
        let g = input.value
        let result = infix(g)
        output.innerHTML =  "postfix: " + result.postfix +
                            "<br>stack empty: " + result.stackEmpty
    }
    function infix(g){
        let out = ""
        const myStake = new Stake()
        for(let i = 0;i<g.length;i++){
            let ck = g.charAt(i)
             if (ck == "("){
                myStake.push(ck)
            }else if (chack(ck)){
                while(!myStake.isEmpy() && priority(ck) <= priority(myStake.peek())){
                   out = out + myStake.pop()
                }
                myStake.push(ck)
            }else if (ck == ")"){
                while(!myStake.isEmpy() && myStake.peek() !== "(") { 
                   out = out + myStake.pop()
                }
                myStake.pop()
            }else{
                out = out+ck
            } 
            console.log(myStake.isEmpy()
                ?"stake empty":
                "stake top "+myStake.peek(),
                "| out:",out);
            
        }
        while(!myStake.isEmpy()){
            out = out + myStake.pop()
        }
        return {
            postfix: out,
            stackEmpty: myStake.isEmpy()
        }
            
    }
    function chack (c){
        if(c == "+" || c == "-" || c == '*' || c == '/' || c == "^"){
            return true
        }else{
            return false
        }
    }
    function priority(c) {
        if(c == "+" || c == "-"){
            return 1
        }
        else if(c == "*" || c == "/"){
            return 2
        }else if (c == "^"){
            return 3
        }else{
            return 0
        }
        console.log(out);
        
    }
    class Stake{
        constructor(){
            this.items = []
        }
        push(value){
            this.items.push(value)
        }
        isEmpy(){
            return this.items.length === 0
            // if(this.Stake.length == 0){
            //     return true
            // }
            // else{
            //     return false
            // }
        }
        pop(){
            return this.isEmpy() ? "" :
            this.items.pop()
            // if(this.isEmpy()){
            //     return ""
            // }
            // else{
            //     return this.Stake.pop()
            // }
        }   
        peek(){
            return this.items[this.items.length-1]
        }
    }
    // let myStkae = new Stake()
    // myStkae.push("a")
    // myStkae.push("b")
    // myStkae.push("c")
    // console.log(myStkae);
    // let b = myStkae.pop()
    // console.log(b);
    // console.log(myStkae);
    // console.log(myStkae.peek());
    

    
    
</script>
</html>